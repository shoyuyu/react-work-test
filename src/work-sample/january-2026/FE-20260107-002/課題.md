# fetch × AbortController（イベント起点）

- 課題 ID：FE-20260107-002
- 課題難易度：易 → やや易

## 課題内容

イベント起点 fetch を“安全にキャンセルできる形”で書く

### 要件

- ボタンを押すと fetch を実行
- ローディング中は「Loading...」を表示
- 成功時：データを表示
- 失敗時：エラーメッセージを表示
- useEffect は使わない
- onClick + async / await

### 追加要件（発展）

- AbortController を使う
- 新しく fetch する前に、前回のリクエストを中断する
- 中断時はエラー表示しない（静かに無視）

### 実装ルール

- AbortController は useRef で保持する
- abort() 後は必ず新しい controller を作る
- catch 内でAbortError、通常エラーを分けて扱う

### ヒント（考えすぎ防止）

- DOMException / name === 'AbortError' を使えばOK
- state 構成は 1問目（FE-20260107-001）と同じ

### 提出物

- プログラムコード
- なぜ AbortController を ref で持つのか
- useEffect cleanup と比べたときの違い（1行）

### 評価観点

- 「キャンセルできる非同期」を書けているか
- abort 周りが 過剰になっていないか
- ref の役割を誤解していないか

---

## 提出物の問いへの回答

> なぜ AbortController を ref で持つのか

再レンダーされても同じAbortControllerを参照するため

> useEffect cleanup と比べたときの違い（1行）

コンポーネントアンマウント時は自動で中断されない
