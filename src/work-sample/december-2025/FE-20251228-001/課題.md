# useEffect 入門：state 変更に反応する副作用を設計する

- 課題 ID：FE-20251228-001
- 難易度：初級〜初中級（20〜30分）

## 課題内容

count の変更に応じて
「副作用（ログ・処理）」を分離して書く 課題。

### 要件

1. コンポーネント仕様
   - コンポーネント名：CounterWithEffect
   - state: `const [count, setCount] = useState(0)`
2. UI
   - count の値
   - 「+1」ボタン
   - 「-1」ボタン
3. 振る舞い要件（重要）
   - A. count が変更されたときだけ、console にログを出す
     - `console.log(`count changed: ${count}`)`
     - 初回レンダーでは出ないようにする
     - 「変更されたときだけ」
   - B. count が 0 未満になったら警告ログを出す
     - `console.warn('count is negative')`

### 実装ヒント（出しすぎないけど方向性）

- 副作用は useEffect にまとめる
- 「初回だけ除外する」方法を考える
  - ref を使うか
  - 条件分岐で回避するか
- state 更新ロジックと副作用を混ぜない

### 提出物

- コンポーネントのコード
- なぜ useEffect が必要なのか
- seState だけではダメな理由

### この課題の狙い

- 「state更新」と「副作用」を分離する思考
- render = 計算 / useEffect = 影響、の切り分け
- Reactっぽい設計の入口

---

## 提出物の問いへの解答

> なぜ useEffect が必要なのか

countが変わった時に処理をしたいから。
なお、useEffectは初回レンダー時も実行されるから、useRefで初回レンダーを記録する。

> seState だけではダメな理由

useStateは値の管理だけを行うため、countが変更された時の副作用のタイミングを検知できない。
